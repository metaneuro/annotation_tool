(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{172:function(t,e,o){"use strict";var n=o(8),r=o(129);o(211),o(212);n.default.use(r.b)},173:function(t,e,o){"use strict";var n=o(8),r=o(235),l=o.n(r);o(320);n.default.component("VSelect",l.a)},213:function(t,e,o){var content=o(287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(66).default)("63c3d388",content,!0,{sourceMap:!1})},238:function(t,e,o){"use strict";o(5),o(4),o(2),o(1),o(6),o(3),o(7);var n=o(0),r=o(67);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var c={name:"DefaultLayout",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(r.c)(["currentPage","pageData","pageOrder"]))},m=c,f=o(57),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("tool-navbar",{attrs:{"nav-items":t.pageData,"nav-order":t.pageOrder,"page-name":t.pageData[t.currentPage].fullName}}),t._v(" "),o("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{ToolNavbar:o(322).default})},247:function(t,e,o){o(248),t.exports=o(249)},284:function(t,e,o){var content=o(285);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(66).default)("f52d43e0",content,!0,{sourceMap:!1})},285:function(t,e,o){var n=o(65)(!1);n.push([t.i,".hidden{display:none}.container-fluid{padding:0}.row{margin:1em;padding-left:2em;padding-right:2em}.instructions-text{color:grey;font-style:italic}.annotation-card{margin-bottom:1em}.annotation-tab-nav{margin-bottom:1em;opacity:.5}.annotation-tab-nav.active{opacity:1}.category-style-0{background-color:#a4d05a!important;color:#000!important}.category-style-1{background-color:#7f17a7!important;color:#fff!important}.category-style-2{background-color:#464cae!important;color:#fff!important}.category-style-3{background-color:#ecc532!important;color:#000!important}.category-style-4{background-color:#800101!important;color:#fff!important}.category-style-default{background-color:#fff;color:#000}",""]),t.exports=n},286:function(t,e,o){"use strict";o(213)},287:function(t,e,o){var n=o(65)(!1);n.push([t.i,'.brand-styling{font-size:2.25em;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";padding-left:1em}.navbar{background-color:#fff!important}.nav-item.dark a{color:#000!important}.nav-item.secondary a{color:#adb5bd!important}.nav-item.success a{color:#28a745!important}#right-nav{padding-right:2em}',""]),t.exports=n},288:function(t,e,o){"use strict";o.r(e),o.d(e,"state",(function(){return l})),o.d(e,"actions",(function(){return c})),o.d(e,"mutations",(function(){return m})),o.d(e,"getters",(function(){return f}));var n=o(25),r=(o(5),o(244),o(16),o(241),o(1),o(240),o(22),o(245),o(133),o(73),o(75),o(123),o(36),o(17),o(8)),l=function(){return{currentPage:"home",pageData:{home:{accessible:!0,fullName:"Home",location:"/",pageName:"index"},categorization:{accessible:!1,fullName:"Categorization",location:"categorization",pageName:"categorization"},annotation:{accessible:!1,fullName:"Annotation",location:"annotation",pageName:"annotation"},download:{accessible:!1,fullName:"Download",location:"download",pageName:"download"}},pageOrder:["home","categorization","annotation","download"],dataTable:{columns:[],filename:"",fileType:"",original:null,annotated:null},dataDictionary:{filename:"",fileType:"",original:null,amended:{}},columnToCategoryMap:{},categories:[],categoryClasses:null,categoryToColorMap:{},toolColorPalette:{color1:"category-style-0",color2:"category-style-1",color3:"category-style-2",color4:"category-style-3",color5:"category-style-4",colorDefault:"category-style-default"},missingValueLabel:"missing value",annotationDetails:[],missingColumnValues:{},toolGroups:{}}},c={createColumnToCategoryMap:function(t){t.commit("setupColumnToCategoryMap")},initializeAnnotationDetails:function(t,e){t.commit("setupAnnotationDetails",e)},initializeCategories:function(t,e){t.commit("setupCategories",e)},nuxtServerInit:function(t){var e=t.commit;e("setupCategories",["Subject ID","Age","Sex","Diagnosis","Assessment Tool"]),e("setupAnnotationDetails",[{id:0,category:"Age",dataType:"continuous",explanation:"This is an explanation for how to annotate age.",options:{},specializedComponent:"annot-age-values"},{id:1,category:"Sex",dataType:"categorical",explanation:"This is an explanation for how to annotate sex.",options:["male","female","other"],specializedComponent:"annot-discrete-choices"},{id:2,category:"Diagnosis",dataType:"string",explanation:"This is an explanation for how to annotate diagnosis.",options:{},specializedComponent:"annot-vocabulary"}])},enablePageNavigation:function(t,e){t.commit("setPageNavigationAccess",e)},initializePage:function(t,e){if(t.dispatch("enablePageNavigation",e),"categorization"===e.pageName)t.dispatch("createColumnToCategoryMap")},setCurrentPage:function(t,e){t.commit("setCurrentPageNav",e)},saveDataDictionary:function(t,e){"json"===e.fileType&&null!==e.data&&(e.formattedData=JSON.parse(e.data)),t.commit("setDataDictionary",e)},saveDataTable:function(t,e){"tsv"===e.fileType&&(null!==e.data&&(e.formattedData=function(t){for(var e=[],o=t[0],n=1;n<t.length;n++){for(var r={},l=0;l<o.length;l++)""!==t[n].join().trim()&&(t[n].length!==o.length&&(console.log("WARNING: tsv row "+parseInt(n)+" has different size than tsv header."),console.log("Row size: "+parseInt(t[n].length)),console.log("Row: '"+t[n]+"'"),console.log("Header fields: "+o.length)),r[o[l]]=t[n][l]);Object.keys(r).length>0&&e.push(r)}return e}(e.data)),e.formattedData.length>0&&(e.columns=Object.keys(e.formattedData[0]))),t.commit("setDataTable",e)},linkColumnWithCategory:function(t,e){t.commit("addColumnCategorization",{column:e.column,category:e.category})},createToolGroup:function(t,e){t.commit("saveToolGroup",e)},modifyToolGroup:function(t,e){t.commit("changeToolGroup",e)},removeToolFromGroup:function(t,e){t.commit("deleteToolFromGroup",e)},removeToolGroup:function(t,e){t.commit("deleteToolGroup",e)},unlinkColumnFromCategory:function(t,e){t.commit("removeColumnCategorization",e.column)},revertColumnToOriginal:function(t,e){for(var o=[],n=0;n<t.state.dataTable.original.length;n++)o.push(t.state.dataTable.original[n][e]);t.commit("changeColumnValues",{columnName:e,tableToChange:t.state.dataTable.annotated,newValues:o})},saveAnnotatedDataTable:function(t,e){t.commit("setAnnotatedDataTable",e)},saveMissingColumnValues:function(t,e){t.commit("setMissingColumnValues",e)}},m={setupAnnotationDetails:function(t,e){t.annotationDetails=e},setupCategories:function(t,e){t.categories=e;for(var o=Object.keys(t.toolColorPalette),n=0,r=0;r<e.length&&r<o.length&&"colorDefault"!==o[r];r++)t.categoryToColorMap[e[r]]=o[r],n+=1;e.length>n&&console.log("WARNING: Not all categories have been assigned color keys!");for(var l=[],c=0;c<t.categories.length;c++){var m=t.categories[c],f=t.categoryToColorMap[m],d=t.toolColorPalette[f];l.push([m,d])}t.categoryClasses=Object.fromEntries(l)},setupColumnToCategoryMap:function(t){0===Object.keys(t.columnToCategoryMap).length&&(t.columnToCategoryMap=Object.fromEntries(t.dataTable.columns.map((function(t){return[t,null]}))))},setPageNavigationAccess:function(t,e){t.pageData[e.pageName].accessible=e.enable},setCurrentPageNav:function(t,e){t.currentPage=e},setDataDictionary:function(t,e){t.dataDictionary.original=e.formattedData,t.dataDictionary.filename=e.filename,t.dataDictionary.fileType=e.fileType},setDataTable:function(t,e){t.dataTable.original=e.formattedData,t.dataTable.filename=e.filename,t.dataTable.fileType=e.fileType,t.dataTable.columns=e.columns,t.dataTable.annotated=structuredClone(t.dataTable.original)},addColumnCategorization:function(t,e){t.columnToCategoryMap[e.column]=e.category},changeToolGroup:function(t,e){r.default.delete(t.toolGroups,e.previousName),r.default.set(t.toolGroups,e.name,e.tools);var o=t.annotationDetails.findIndex((function(t){return e.previousName===t.groupName}));t.annotationDetails[o].groupName=e.name,t.annotationDetails[o].tools=e.tools},deleteToolGroup:function(t,e){r.default.delete(t.toolGroups,e.name);var o=t.annotationDetails.findIndex((function(t){return e.name===(null==t?void 0:t.groupName)}));t.annotationDetails.splice(o,1)},removeColumnCategorization:function(t,e){t.columnToCategoryMap[e]=null},deleteToolFromGroup:function(t,e){t.toolGroups[e.group].splice(t.toolGroups[e.group].findIndex((function(element){return element===e.tool})),1)},saveToolGroup:function(t,e){r.default.set(t.toolGroups,e.name,Object(n.a)(e.tools)),t.annotationDetails.push({id:t.annotationDetails.length,category:"Assessment Tool",dataType:"string",explanation:"This is an explanation for how to annotate assessments.",groupName:e.name,options:{},specializedComponent:"annot-tool-group",tools:t.toolGroups[e.name]})},changeColumnValues:function(t,e){for(var o=0;o<e.tableToChange.length;o++)e.tableToChange[o][e.columnName]=e.newValues[o]},setAnnotatedDataTable:function(t,e){t.dataTable.annotated=e},setMissingColumnValues:function(t,e){var o=Object.keys(e)[0];0===e[o].length?r.default.delete(t.missingColumnValues,o):t.missingColumnValues=Object.assign({},t.missingColumnValues,e)}},f={categories:function(t){return t.categories},columnDescription:function(t){return function(e){var o=null;if(null!==t.dataDictionary.original&&Object.keys(t.dataDictionary.original).includes(e)){var n=Object.keys(t.dataDictionary.original[e]).find((function(t){return"description"===t.toLowerCase()}));n&&(o=t.dataDictionary.original[e][n])}return o}},getColumnsOfCategory:function(t){return function(e){var o=[];for(var n in t.columnToCategoryMap)e===t.columnToCategoryMap[n]&&o.push(n);return o}},getGroupOfTool:function(t){return function(e){var o=null;for(var n in t.toolGroups)t.toolGroups[n].includes(e)&&(o=n);return o}},getOriginalColumnValue:function(t){return function(e,o){for(var n=0;n<t.dataTable.original.length;n++)if(e===t.dataTable.original[n].participant_id)return t.dataTable.original[n][o];return null}},isColumnLinkedToCategory:function(t){return function(e){return e.category===t.columnToCategoryMap[e.column]}},isDataAnnotated:function(t){return!t.dataTable.original.every((function(e,o){var n=!0;if(Object.keys(e).length!==Object.keys(t.dataTable.annotated[o]).length)n=!1;else for(var r in e)if(e[r]!==t.dataTable.annotated[o][r]){n=!1;break}return n}))},isDataDictionaryLoaded:function(t){return null!==t.dataDictionary.original},isDataTableLoaded:function(t){return null!==t.dataTable.original},isMissingValue:function(t){return function(e,o){return!!Object.keys(t.missingColumnValues).includes(e)&&t.missingColumnValues[e].includes(o)}},isToolGrouped:function(t){return function(e){var o=!1;for(var n in t.toolGroups)if(t.toolGroups[n].includes(e)){o=!0;break}return o}},getMissingValuesColumn:function(t){return function(e){return Object.keys(t.missingColumnValues).includes(e)?t.missingColumnValues[e]:null}},valueDescription:function(t){return function(e,o){var n="";if(null!==t.dataDictionary.original&&Object.keys(t.dataDictionary.original).includes(e)){var r=Object.keys(t.dataDictionary.original[e]).find((function(t){return"levels"===t.toLowerCase()}));if(r){var l=Object.keys(t.dataDictionary.original[e][r]).find((function(t){return t.toLowerCase()===o.toLowerCase()}));l&&(n=t.dataDictionary.original[e][r][l])}}return n}}}},322:function(t,e,o){"use strict";o.r(e);var n={props:{navItems:{type:Object,required:!0},pageName:{type:String,required:!0}},data:function(){return{uiText:{toolName:"Annotation Tool"}}},methods:{determineNavItemColor:function(t){var e="secondary";return this.pageName===t.fullName?e="dark":t.accessible&&(e="success"),e}}},r=(o(286),o(57)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[o("b-navbar-brand",{staticClass:"brand-styling"},[o("h1",[t._v(t._s(t.uiText.toolName))])]),t._v(" "),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto",attrs:{id:"right-nav"}},t._l(t.navItems,(function(e,n){return o("b-nav-item",{key:e.pageName,class:t.determineNavItemColor(e),attrs:{active:t.pageName===e.fullName,"data-cy":"menu-item-"+e.pageName,disabled:!e.accessible,to:e.location}},[t._v("\n                    "+t._s(e.fullName)+"\n                ")])})),1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}},[[247,19,2,20]]]);