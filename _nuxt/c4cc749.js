(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{184:function(t,o,e){"use strict";var n=e(8),r=e(140);e(237),e(238);n.default.use(r.b)},185:function(t,o,e){"use strict";var n=e(8),r=e(257),l=e.n(r);e(365);n.default.component("VSelect",l.a)},239:function(t,o,e){var content=e(325);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(67).default)("16667a43",content,!0,{sourceMap:!1})},260:function(t,o,e){"use strict";e(5),e(4),e(2),e(1),e(6),e(3),e(7);var n=e(0),r=e(68);function l(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),o.push.apply(o,e)}return o}var c={name:"DefaultLayout",computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(o){Object(n.a)(t,o,source[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))}))}return t}({},Object(r.c)(["currentPage","pageData","pageOrder"]))},m=c,f=e(59),component=Object(f.a)(m,(function(){var t=this,o=t._self._c;return o("div",[o("tool-navbar",{attrs:{"nav-items":t.pageData,"nav-order":t.pageOrder,"page-name":t.pageData[t.currentPage].fullName}}),t._v(" "),o("Nuxt")],1)}),[],!1,null,null,null);o.a=component.exports;installComponents(component,{ToolNavbar:e(367).default})},270:function(t,o,e){e(271),t.exports=e(272)},322:function(t,o,e){var content=e(323);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(67).default)("17bc9ac2",content,!0,{sourceMap:!1})},323:function(t,o,e){var n=e(66)((function(i){return i[1]}));n.push([t.i,".hidden{display:none}.container-fluid{padding:0}.row{margin:1em;padding-left:2em;padding-right:2em}.instructions-text{color:grey;font-style:italic}.annotation-card{margin-bottom:1em}.annotation-tab-nav{margin-bottom:1em;opacity:.5}.annotation-tab-nav.active{opacity:1}.category-style-0{background-color:#a4d05a!important;color:#000!important}.category-style-1{background-color:#7f17a7!important;color:#fff!important}.category-style-2{background-color:#464cae!important;color:#fff!important}.category-style-3{background-color:#ecc532!important;color:#000!important}.category-style-4{background-color:#800101!important;color:#fff!important}.category-style-default{background-color:#fff;color:#000}",""]),n.locals={},t.exports=n},324:function(t,o,e){"use strict";e(239)},325:function(t,o,e){var n=e(66)((function(i){return i[1]}));n.push([t.i,'.brand-styling{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:2.25em;padding-left:1em}.navbar{background-color:#fff!important}.nav-item.dark a{color:#000!important}.nav-item.secondary a{color:#adb5bd!important}.nav-item.success a{color:#28a745!important}#right-nav{padding-right:2em}',""]),n.locals={},t.exports=n},326:function(t,o,e){"use strict";e.r(o),e.d(o,"state",(function(){return l})),e.d(o,"actions",(function(){return c})),e.d(o,"mutations",(function(){return m})),e.d(o,"getters",(function(){return f}));var n=e(24),r=(e(5),e(267),e(15),e(264),e(1),e(263),e(22),e(268),e(144),e(60),e(77),e(134),e(35),e(16),e(8)),l=function(){return{currentPage:"home",pageData:{home:{accessible:!0,fullName:"Home",location:"/",pageName:"index"},categorization:{accessible:!1,fullName:"Categorization",location:"categorization",pageName:"categorization"},annotation:{accessible:!1,fullName:"Annotation",location:"annotation",pageName:"annotation"},download:{accessible:!1,fullName:"Download",location:"download",pageName:"download"}},pageOrder:["home","categorization","annotation","download"],dataTable:{columns:[],filename:"",fileType:"",original:null,annotated:null},dataDictionary:{filename:"",fileType:"",original:null,amended:{}},columnToCategoryMap:{},categories:[],categoryClasses:null,categoryToColorMap:{},toolColorPalette:{color1:"category-style-0",color2:"category-style-1",color3:"category-style-2",color4:"category-style-3",color5:"category-style-4",colorDefault:"category-style-default"},missingValueLabel:"missing value",annotationDetails:[],missingColumnValues:{},toolGroups:{}}},c={createColumnToCategoryMap:function(t){t.commit("setupColumnToCategoryMap")},initializeAnnotationDetails:function(t,o){t.commit("setupAnnotationDetails",o)},initializeCategories:function(t,o){t.commit("setupCategories",o)},nuxtServerInit:function(t){var o=t.commit;o("setupCategories",["Subject ID","Age","Sex","Diagnosis","Assessment Tool"]),o("setupAnnotationDetails",[{id:0,category:"Age",dataType:"continuous",explanation:"This is an explanation for how to annotate age.",options:{},specializedComponent:"annot-age-values"},{id:1,category:"Sex",dataType:"categorical",explanation:"This is an explanation for how to annotate sex.",options:["male","female","other"],specializedComponent:"annot-discrete-choices"},{id:2,category:"Diagnosis",dataType:"string",explanation:"This is an explanation for how to annotate diagnosis.",options:{},specializedComponent:"annot-vocabulary"}])},enablePageNavigation:function(t,o){t.commit("setPageNavigationAccess",o)},initializePage:function(t,o){if(t.dispatch("enablePageNavigation",o),"categorization"===o.pageName)t.dispatch("createColumnToCategoryMap")},setCurrentPage:function(t,o){t.commit("setCurrentPageNav",o)},saveDataDictionary:function(t,o){"json"===o.fileType&&null!==o.data&&(o.formattedData=JSON.parse(o.data)),t.commit("setDataDictionary",o)},saveDataTable:function(t,o){"tsv"===o.fileType&&(null!==o.data&&(o.formattedData=function(t){for(var o=[],e=t[0],n=1;n<t.length;n++){for(var r={},l=0;l<e.length;l++)""!==t[n].join().trim()&&(t[n].length!==e.length&&(console.log("WARNING: tsv row "+parseInt(n)+" has different size than tsv header."),console.log("Row size: "+parseInt(t[n].length)),console.log("Row: '"+t[n]+"'"),console.log("Header fields: "+e.length)),r[e[l]]=t[n][l]);Object.keys(r).length>0&&o.push(r)}return o}(o.data)),o.formattedData.length>0&&(o.columns=Object.keys(o.formattedData[0]))),t.commit("setDataTable",o)},linkColumnWithCategory:function(t,o){t.commit("addColumnCategorization",{column:o.column,category:o.category})},createToolGroup:function(t,o){t.commit("saveToolGroup",o)},modifyToolGroup:function(t,o){t.commit("changeToolGroup",o)},removeToolFromGroup:function(t,o){t.commit("deleteToolFromGroup",o)},removeToolGroup:function(t,o){t.commit("deleteToolGroup",o)},unlinkColumnFromCategory:function(t,o){t.commit("removeColumnCategorization",o.column)},revertColumnToOriginal:function(t,o){for(var e=[],n=0;n<t.state.dataTable.original.length;n++)e.push(t.state.dataTable.original[n][o]);t.commit("changeColumnValues",{columnName:o,tableToChange:t.state.dataTable.annotated,newValues:e})},saveAnnotatedDataTable:function(t,o){t.commit("setAnnotatedDataTable",o)},saveMissingColumnValues:function(t,o){t.commit("setMissingColumnValues",o)}},m={setupAnnotationDetails:function(t,o){t.annotationDetails=o},setupCategories:function(t,o){t.categories=o;for(var e=Object.keys(t.toolColorPalette),n=0,r=0;r<o.length&&r<e.length&&"colorDefault"!==e[r];r++)t.categoryToColorMap[o[r]]=e[r],n+=1;o.length>n&&console.log("WARNING: Not all categories have been assigned color keys!");for(var l=[],c=0;c<t.categories.length;c++){var m=t.categories[c],f=t.categoryToColorMap[m],d=t.toolColorPalette[f];l.push([m,d])}t.categoryClasses=Object.fromEntries(l)},setupColumnToCategoryMap:function(t){0===Object.keys(t.columnToCategoryMap).length&&(t.columnToCategoryMap=Object.fromEntries(t.dataTable.columns.map((function(t){return[t,null]}))))},setPageNavigationAccess:function(t,o){t.pageData[o.pageName].accessible=o.enable},setCurrentPageNav:function(t,o){t.currentPage=o},setDataDictionary:function(t,o){t.dataDictionary.original=o.formattedData,t.dataDictionary.filename=o.filename,t.dataDictionary.fileType=o.fileType},setDataTable:function(t,o){t.dataTable.original=o.formattedData,t.dataTable.filename=o.filename,t.dataTable.fileType=o.fileType,t.dataTable.columns=o.columns,t.dataTable.annotated=structuredClone(t.dataTable.original)},addColumnCategorization:function(t,o){t.columnToCategoryMap[o.column]=o.category},changeToolGroup:function(t,o){r.default.delete(t.toolGroups,o.previousName),r.default.set(t.toolGroups,o.name,o.tools);var e=t.annotationDetails.findIndex((function(t){return o.previousName===t.groupName}));t.annotationDetails[e].groupName=o.name,t.annotationDetails[e].tools=o.tools},deleteToolGroup:function(t,o){r.default.delete(t.toolGroups,o.name);var e=t.annotationDetails.findIndex((function(t){return o.name===(null==t?void 0:t.groupName)}));t.annotationDetails.splice(e,1)},removeColumnCategorization:function(t,o){t.columnToCategoryMap[o]=null},deleteToolFromGroup:function(t,o){t.toolGroups[o.group].splice(t.toolGroups[o.group].findIndex((function(element){return element===o.tool})),1)},saveToolGroup:function(t,o){r.default.set(t.toolGroups,o.name,Object(n.a)(o.tools)),t.annotationDetails.push({id:t.annotationDetails.length,category:"Assessment Tool",dataType:"string",explanation:"This is an explanation for how to annotate assessments.",groupName:o.name,options:{},specializedComponent:"annot-tool-group",tools:t.toolGroups[o.name]})},changeColumnValues:function(t,o){for(var e=0;e<o.tableToChange.length;e++)o.tableToChange[e][o.columnName]=o.newValues[e]},setAnnotatedDataTable:function(t,o){t.dataTable.annotated=o},setMissingColumnValues:function(t,o){var e=Object.keys(o)[0];0===o[e].length?r.default.delete(t.missingColumnValues,e):t.missingColumnValues=Object.assign({},t.missingColumnValues,o)}},f={categories:function(t){return t.categories},columnDescription:function(t){return function(o){var e=null;if(null!==t.dataDictionary.original&&Object.keys(t.dataDictionary.original).includes(o)){var n=Object.keys(t.dataDictionary.original[o]).find((function(t){return"description"===t.toLowerCase()}));n&&(e=t.dataDictionary.original[o][n])}return e}},getColumnsOfCategory:function(t){return function(o){var e=[];for(var n in t.columnToCategoryMap)o===t.columnToCategoryMap[n]&&e.push(n);return e}},getGroupOfTool:function(t){return function(o){var e=null;for(var n in t.toolGroups)t.toolGroups[n].includes(o)&&(e=n);return e}},getOriginalColumnValue:function(t){return function(o,e){for(var n=0;n<t.dataTable.original.length;n++)if(o===t.dataTable.original[n].participant_id)return t.dataTable.original[n][e];return null}},isColumnLinkedToCategory:function(t){return function(o){return o.category===t.columnToCategoryMap[o.column]}},isDataAnnotated:function(t){return!t.dataTable.original.every((function(o,e){var n=!0;if(Object.keys(o).length!==Object.keys(t.dataTable.annotated[e]).length)n=!1;else for(var r in o)if(o[r]!==t.dataTable.annotated[e][r]){n=!1;break}return n}))},isDataDictionaryLoaded:function(t){return null!==t.dataDictionary.original},isDataTableLoaded:function(t){return null!==t.dataTable.original},isMissingValue:function(t){return function(o,e){return!!Object.keys(t.missingColumnValues).includes(o)&&t.missingColumnValues[o].includes(e)}},isToolGrouped:function(t){return function(o){var e=!1;for(var n in t.toolGroups)if(t.toolGroups[n].includes(o)){e=!0;break}return e}},getMissingValuesColumn:function(t){return function(o){return Object.keys(t.missingColumnValues).includes(o)?t.missingColumnValues[o]:null}},valueDescription:function(t){return function(o,e){var n="";if(null!==t.dataDictionary.original&&Object.keys(t.dataDictionary.original).includes(o)){var r=Object.keys(t.dataDictionary.original[o]).find((function(t){return"levels"===t.toLowerCase()}));if(r){var l=Object.keys(t.dataDictionary.original[o][r]).find((function(t){return t.toLowerCase()===e.toLowerCase()}));l&&(n=t.dataDictionary.original[o][r][l])}}return n}}}},367:function(t,o,e){"use strict";e.r(o);var n={props:{navItems:{type:Object,required:!0},pageName:{type:String,required:!0}},data:function(){return{uiText:{toolName:"Annotation Tool"}}},methods:{determineNavItemColor:function(t){var o="secondary";return this.pageName===t.fullName?o="dark":t.accessible&&(o="success"),o}}},r=(e(324),e(59)),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[o("b-navbar-brand",{staticClass:"brand-styling"},[o("h1",[t._v(t._s(t.uiText.toolName))])]),t._v(" "),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto",attrs:{id:"right-nav"}},t._l(t.navItems,(function(e,n){return o("b-nav-item",{key:e.pageName,class:t.determineNavItemColor(e),attrs:{active:t.pageName===e.fullName,"data-cy":"menu-item-"+e.pageName,disabled:!e.accessible,to:e.location}},[t._v("\n                    "+t._s(e.fullName)+"\n                ")])})),1)],1)],1)],1)}),[],!1,null,null,null);o.default=component.exports}},[[270,19,2,20]]]);